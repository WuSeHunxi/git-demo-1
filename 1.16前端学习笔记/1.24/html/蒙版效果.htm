<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        html,body{
            width: 100%;
            height: 300%;
        }
        #panel{
            width: 100%;
            height: 100%;
            background-color: #000;
            opacity: 0.4;
            position: absolute;
            left:0;
            top:0;
            display:none;
        }
        #login{
            border-radius: 5px;
            position: fixed;
            left:50%;
            top:50%;
            margin-left: -150px;
            margin-top: -150px;
            width: 300px;
            height: 300px;
            background-color: skyblue;
            display:none;
        }
    </style>
</head>
<body>
    <button id="btn">点我登录</button>
    <div id="panel"></div>
    <div id="login"></div>
    <script src="../js/my_func.js"></script>
    <script>
        //监听鼠标的点击事件
        var panel=document.getElementById("panel");
        var login=document.getElementById("login");
        var btn=document.getElementById("btn");
        btn.onclick=function(event){
            //阻止冒泡
            if(event&&event.stopPropagation){
                event.stopPropagation();
            }else{
                window.event.cancelBubble=true;
            }
            //显示面板和蒙版
            panel.style.display="block";
            login.style.display="block";
            //隐藏滚动条(document.body的属性)
            document.body.style.overflow='hidden';
        };
        //点击文档
        //(发生了事件冒泡)
        //点击蒙版恢复原来的样子，点击登录版则进行网页跳转
        document.onclick=function(event){//拦截了按钮的点击事件
            var event=event||window.event;
            //获取点击的事件源
            var targetId=event.target?event.target.id:event.srcElement.id;
            //判断事件源
            if(targetId!=="login"){
                //隐藏面板和蒙版
                panel.style.display="none";
                login.style.display="none";
                //显示滚动条(document.body的属性)
                document.body.style.overflow='auto';
            }else{//点击蒙版网页跳转
                window.location.href="http:www.baidu.com";
            }
        }
        
    </script>
</body>
</html>