<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AJAX基础回顾</title>
  <script src="template-web.js"></script>
  <script src="jquery.js"></script>
</head>
<body>
  <table id="demo"></table>

   <!-- 卧槽 可下他妈的出来了！！！-->

    <!-- js使用时的格式,js能够使用as -->
    <!-- {{each comments as key}}   -->
    
  <script id="tmpl" type="text/x-art-template">

    
    <!-- jQuery使用时的格式 -->
    {{each comment  value}}
    <h1>{{value}}</h1> 
    
    {{/each}}
  </script>

  <script>

    // Ajax发送请求
    // var xhr = new XMLHttpRequest()
    // xhr.open('GET', 'test.php')
    // xhr.send()
    // xhr.onreadystatechange = function () {
    //   if (this.readyState !== 4) return
    //   console.log(this)
    // }

    // var xhr=new XMLHttpRequest();
    // xhr.open('GET','json.php');
    // xhr.send();
    // xhr.onreadystatechange=function(){
    //   if(this.readyState!=4){
    //     return;
    //   }
    //   var res=JSON.parse(this.responseText);
    //   var context={comments:res};
    //   // console.log(context);
    //   var html=template('tmpl',context);
    //   document.getElementById("demo").innerHTML=html;
    // }


      $.ajax({
        url:"json.php",
        type:"get",
        dataType:"json",
        success:function(res){
          var context={comment:res};
          var html=template('tmpl',context);
          $("#demo").html(html);
        }
      })

  </script>
</body>
</html>
